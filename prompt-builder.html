<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Конструктор промптов для плана урока</title>
    <!-- Подключение файла стилей -->
    <link rel="stylesheet" href="prompt-builder-styles.css">
    <style>
        /* Основные стили */
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            margin: 0;
            padding: 0;
            background-color: #f8f9fa;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background-color: #1e2c60;
            color: white;
            padding: 40px 0;
            margin-bottom: 30px;
        }

        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .school-logo {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 20px;
            display: block;
        }

        /* Стили для сетки */
        .grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-bottom: 30px;
            max-width: 1000px;
            margin-left: auto;
            margin-right: auto;
        }

        .section {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .full-width {
            grid-column: 1 / -1;
        }

        /* Стили для формы */
        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }

        select, input, textarea {
            width: 100%;
            padding: 8px 12px;
            border: 1px solid #e0e2ee;
            border-radius: 4px;
            font-size: 14px;
            background-color: white;
        }

        select:focus, input:focus, textarea:focus {
            border-color: #365ddf;
            outline: none;
            box-shadow: 0 0 0 2px rgba(54, 93, 223, 0.2);
        }

        select[multiple] {
            height: auto;
            min-height: 120px;
        }

        .hint {
            font-size: 12px;
            color: #666666;
            margin-top: 4px;
        }

        /* Стили для предупреждений */
        .alert {
            color: #d9534f;
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
            padding: 8px 12px;
            border-radius: 4px;
            margin-top: 8px;
            display: none;
        }

        /* Стили для структуры урока */
        .two-columns {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }

        .structure-preview {
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 4px;
            margin-top: 20px;
        }

        .structure-preview ol {
            margin: 0;
            padding-left: 20px;
        }

        /* Стили для чекбоксов */
        .checkbox-group {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }

        .checkbox-group input[type="checkbox"] {
            width: auto;
            margin-right: 8px;
        }

        /* Стили для результата */
        .result {
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-top: 30px;
        }

        .prompt-output {
            padding: 15px;
            background-color: #f8f9fa;
            border: 1px solid #e0e2ee;
            border-radius: 4px;
            margin: 10px 0;
            white-space: pre-wrap;
            font-family: monospace;
            min-height: 100px;
            overflow-x: auto;
        }

        #copyButton {
            background-color: #365ddf;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.2s;
            width: 100%;
            max-width: 300px;
            margin-top: 10px;
        }

        #copyButton:hover {
            background-color: #2848b8;
        }

        /* Стили для отключенных опций */
        .disabled-option {
            color: #999;
            background-color: #f8f9fa;
        }

        /* Стили для подвала */
        .footer {
            text-align: center;
            padding: 20px;
            margin-top: 40px;
            border-top: 1px solid #e0e2ee;
        }

        /* Стили для загрузчика и ошибок */
        .loading-indicator {
            color: #666;
            font-style: italic;
            margin: 5px 0;
            display: none;
        }

        .error-message {
            color: #d9534f;
            font-size: 12px;
            margin: 5px 0;
            display: none;
        }

        /* Стили для пользовательских полей */
        [id^="custom"][id$="Container"] {
            display: none;
            margin-top: 10px;
        }

        /* Адаптивные стили */
        @media (max-width: 768px) {
            .grid {
                grid-template-columns: 1fr;
                max-width: 100%;
            }

            .two-columns {
                grid-template-columns: 1fr;
            }

            .header {
                padding: 20px 0;
            }

            .school-logo {
                font-size: 20px;
            }
            
            .container {
                padding: 15px;
            }
            
            .section {
                padding: 15px;
            }
            
            h1 {
                font-size: 24px;
                line-height: 1.3;
            }
            
            h2 {
                font-size: 20px;
            }
            
            select, input, textarea {
                font-size: 16px; /* Предотвращает масштабирование на iOS */
                padding: 10px;
            }
            
            .prompt-output {
                font-size: 14px;
            }
        }
        
        /* Специальные стили для планшетов */
        @media (min-width: 481px) and (max-width: 1024px) {
            .grid {
                gap: 15px;
                margin-bottom: 25px;
            }
            
            .section {
                padding: 18px;
            }
            
            select[multiple] {
                min-height: 140px;
            }
            
            .structure-preview {
                font-size: 15px;
            }
            
            #copyButton {
                max-width: 350px;
                padding: 12px 25px;
                font-size: 16px;
            }
            
            .header-content h1 {
                font-size: 28px;
            }
            
            .header-content p {
                font-size: 16px;
                max-width: 90%;
                margin-left: auto;
                margin-right: auto;
            }
            
            /* Улучшение тактильного взаимодействия на планшетах */
            select, input, button, .checkbox-group label {
                cursor: pointer;
            }
            
            /* Увеличение области нажатия для чекбоксов */
            .checkbox-group {
                padding: 5px 0;
            }
            
            .checkbox-group label {
                padding: 5px 0;
            }
        }
        
        /* Дополнительные стили для очень маленьких экранов */
        @media (max-width: 480px) {
            .container {
                padding: 10px;
            }
            
            .section {
                padding: 12px;
                margin-bottom: 15px;
            }
            
            h1 {
                font-size: 22px;
            }
            
            h2 {
                font-size: 18px;
            }
            
            .header-content p {
                font-size: 14px;
            }
            
            .form-group {
                margin-bottom: 15px;
            }
            
            label {
                font-size: 15px;
            }
            
            .hint {
                font-size: 11px;
            }
            
            #copyButton {
                width: 100%;
                max-width: none;
            }
        }

        /* Дополнительные стили для выпадающего списка тем */
        .topic-select {
            width: 100%;
            padding: 8px 12px;
            border: 1px solid #e0e2ee;
            border-radius: 4px;
            font-size: 14px;
            margin-bottom: 8px;
            background-color: white;
        }
        
        .topic-select:focus {
            border-color: #365ddf;
            outline: none;
            box-shadow: 0 0 0 2px rgba(54, 93, 223, 0.2);
        }
        
        .back-link {
            display: inline-block;
            margin-bottom: 20px;
            color: #365ddf;
            text-decoration: none;
        }
        
        .back-link:hover {
            text-decoration: underline;
        }
        
        .topics-hint {
            font-size: 12px;
            color: #666666;
            margin-bottom: 8px;
        }
        
        /* Стили для мобильной оптимизации */
        @media (max-width: 480px) {
            .topic-select {
                font-size: 16px;
                padding: 10px;
            }
            
            .topics-hint {
                font-size: 11px;
            }
            
            select[multiple] {
                min-height: 150px;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="header-content">
            <span class="school-logo">Школа педагогического маркетинга</span>
            <h1>Конструктор промптов для плана урока</h1>
            <p>Инструмент разработан в рамках курса "Нейросети для преподавателей и репетиторов" для создания эффективных запросов к искусственному интеллекту</p>
        </div>
    </div>
    
    <div class="container">
        <a href="index.html" class="back-link" style="display: inline-block; margin-bottom: 20px; color: #365ddf; text-decoration: none;">← Вернуться на главную</a>
        <h1>Конструктор промптов для плана урока</h1>
        
        <form id="promptForm">
        <div class="grid">
            <!-- Блок 1: Основная информация -->
            <div class="section">
                <h2>Основная информация</h2>
                
                <div class="form-group">
                    <label for="expertType">Выберите предмет</label>
                    <select id="expertType">
                        <option value="">Выберите предмет</option>
                        
                        <optgroup label="Начальная школа">
                            <option value="Учитель начальных классов" data-grades="0,1,2,3,4">Начальные классы (общее)</option>
                            <option value="Учитель обучения грамоте" data-grades="0,1">Обучение грамоте</option>
                            <option value="Учитель русского языка в начальной школе" data-grades="1,2,3,4">Русский язык</option>
                            <option value="Учитель литературного чтения" data-grades="1,2,3,4">Литературное чтение</option>
                            <option value="Учитель математики в начальной школе" data-grades="1,2,3,4">Математика</option>
                            <option value="Учитель окружающего мира" data-grades="1,2,3,4">Окружающий мир</option>
                            <option value="Учитель технологии в начальной школе" data-grades="1,2,3,4">Технология</option>
                            <option value="Учитель ИЗО в начальной школе" data-grades="1,2,3,4">ИЗО</option>
                            <option value="Учитель музыки в начальной школе" data-grades="1,2,3,4">Музыка</option>
                        </optgroup>
                        
                        <optgroup label="Основные предметы">
                            <option value="Учитель русского языка" data-grades="5,6,7,8,9,10,11">Русский язык</option>
                            <option value="Учитель литературы" data-grades="5,6,7,8,9,10,11">Литература</option>
                            <option value="Учитель математики" data-grades="5,6">Математика</option>
                            <option value="Учитель алгебры" data-grades="7,8,9,10,11">Алгебра</option>
                            <option value="Учитель геометрии" data-grades="7,8,9,10,11">Геометрия</option>
                            <option value="Учитель физики" data-grades="7,8,9,10,11">Физика</option>
                            <option value="Учитель химии" data-grades="8,9,10,11">Химия</option>
                            <option value="Учитель биологии" data-grades="5,6,7,8,9,10,11">Биология</option>
                            <option value="Учитель географии" data-grades="5,6,7,8,9,10,11">География</option>
                            <option value="Учитель истории" data-grades="5,6,7,8,9,10,11">История</option>
                            <option value="Учитель обществознания" data-grades="6,7,8,9,10,11">Обществознания</option>
                            <option value="Учитель информатики" data-grades="7,8,9,10,11">Информатика</option>
                        </optgroup>
                        
                        <optgroup label="Иностранные языки">
                            <option value="Учитель английского языка" data-grades="2,3,4,5,6,7,8,9,10,11">Английский язык</option>
                            <option value="Учитель немецкого языка" data-grades="5,6,7,8,9,10,11">Немецкий язык</option>
                            <option value="Учитель французского языка" data-grades="5,6,7,8,9,10,11">Французский язык</option>
                            <option value="Учитель испанского языка" data-grades="5,6,7,8,9,10,11">Испанский язык</option>
                            <option value="Учитель китайского языка" data-grades="5,6,7,8,9,10,11">Китайский язык</option>
                        </optgroup>
                        
                        <optgroup label="Физическая культура и ОБЖ">
                            <option value="Учитель физической культуры" data-grades="1,2,3,4,5,6,7,8,9,10,11">Физическая культура</option>
                            <option value="Учитель ОБЖ" data-grades="8,9,10,11">ОБЖ</option>
                        </optgroup>
                        
                        <optgroup label="Искусство и технологии">
                            <option value="Учитель ИЗО" data-grades="5,6,7,8">ИЗО</option>
                            <option value="Учитель МХК" data-grades="10,11">МХК</option>
                            <option value="Учитель музыки" data-grades="5,6,7,8">Музыка</option>
                            <option value="Учитель технологии" data-grades="5,6,7,8,9,10,11">Технология</option>
                            <option value="Учитель черчения" data-grades="8,9">Черчение</option>
                        </optgroup>
                        
                        <optgroup label="Региональные компоненты">
                            <option value="Учитель родного языка" data-grades="1,2,3,4,5,6,7,8,9,10,11">Родной язык</option>
                            <option value="Учитель родной литературы" data-grades="1,2,3,4,5,6,7,8,9,10,11">Родная литература</option>
                            <option value="Учитель краеведения" data-grades="5,6,7,8,9">Краеведение</option>
                            <option value="Учитель национальной культуры" data-grades="1,2,3,4,5,6,7,8,9,10,11">Национальная культура</option>
                        </optgroup>
                        
                        <optgroup label="Вариативные курсы">
                            <option value="Учитель экономики" data-grades="10,11">Экономика</option>
                            <option value="Учитель права" data-grades="10,11">Право</option>
                            <option value="Учитель экологии" data-grades="10,11">Экология</option>
                            <option value="Учитель астрономии" data-grades="10,11">Астрономия</option>
                            <option value="Учитель психологии" data-grades="10,11">Психология</option>
                        </optgroup>
                        
                        <optgroup label="Высшее образование">
                            <option value="Преподаватель высшей математики" data-grades="12,13,14,15,16,17">Высшая математика</option>
                            <option value="Преподаватель статистики" data-grades="12,13,14,15,16,17">Статистика</option>
                            <option value="Преподаватель программирования" data-grades="12,13,14,15,16,17">Программирование</option>
                            <option value="Преподаватель философии" data-grades="12,13,14,15,16,17">Философия</option>
                            <option value="Преподаватель социологии" data-grades="12,13,14,15,16,17">Социология</option>
                            <option value="Преподаватель политологии" data-grades="12,13,14,15,16,17">Политология</option>
                            <option value="Преподаватель культурологии" data-grades="12,13,14,15,16,17">Культурология</option>
                        </optgroup>
                        
                        <option value="Другое" data-grades="0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17">Другое (указать)</option>
                    </select>
                    <div id="customExpertContainer" style="display: none;" class="form-group">
                        <input type="text" id="customExpertType" placeholder="Укажите тип эксперта">
                    </div>
                    <div id="subjectAlert" class="alert">Пожалуйста, выберите предмет перед выбором класса</div>
                </div>
                
                <div class="form-group">
                    <label for="ageClass">Возраст/класс учеников</label>
                    <select id="ageClass" disabled>
                        <option value="">Сначала выберите предмет</option>
                        <optgroup label="Дошкольное образование">
                            <option value="3-4 года" data-grade="0">3-4 года</option>
                            <option value="4-5 лет" data-grade="0">4-5 лет</option>
                            <option value="5-6 лет" data-grade="0">5-6 лет</option>
                            <option value="6-7 лет" data-grade="0">6-7 лет</option>
                        </optgroup>
                        <optgroup label="Начальная школа">
                            <option value="1 класс" data-grade="1">1 класс</option>
                            <option value="2 класс" data-grade="2">2 класс</option>
                            <option value="3 класс" data-grade="3">3 класс</option>
                            <option value="4 класс" data-grade="4">4 класс</option>
                        </optgroup>
                        <optgroup label="Средняя школа">
                            <option value="5 класс" data-grade="5">5 класс</option>
                            <option value="6 класс" data-grade="6">6 класс</option>
                            <option value="7 класс" data-grade="7">7 класс</option>
                            <option value="8 класс" data-grade="8">8 класс</option>
                            <option value="9 класс" data-grade="9">9 класс</option>
                        </optgroup>
                        <optgroup label="Старшая школа">
                            <option value="10 класс" data-grade="10">10 класс</option>
                            <option value="11 класс" data-grade="11">11 класс</option>
                        </optgroup>
                        <optgroup label="Среднее профессиональное образование">
                            <option value="студенты колледжа 1 курс" data-grade="12">1 курс колледжа</option>
                            <option value="студенты колледжа 2 курс" data-grade="13">2 курс колледжа</option>
                            <option value="студенты колледжа 3 курс" data-grade="14">3 курс колледжа</option>
                            <option value="студенты колледжа 4 курс" data-grade="15">4 курс колледжа</option>
                        </optgroup>
                        <optgroup label="Высшее образование">
                            <option value="студенты бакалавриата 1 курс" data-grade="12">1 курс бакалавриата</option>
                            <option value="студенты бакалавриата 2 курс" data-grade="13">2 курс бакалавриата</option>
                            <option value="студенты бакалавриата 3 курс" data-grade="14">3 курс бакалавриата</option>
                            <option value="студенты бакалавриата 4 курс" data-grade="15">4 курс бакалавриата</option>
                            <option value="студенты магистратуры" data-grade="16">Магистратура</option>
                            <option value="студенты аспирантуры" data-grade="17">Аспирантура</option>
                        </optgroup>
                        <option value="Другое" data-grade="-1">Другое (указать)</option>
                    </select>
                    <div id="customAgeClassContainer" style="display: none;" class="form-group">
                        <input type="text" id="customAgeClass" placeholder="Укажите возраст/класс">
                    </div>
                    <div id="classAlert" class="alert">Выбранный класс не соответствует предмету. Пожалуйста, выберите другой класс.</div>
                </div>
                    
                    <div class="form-group">
                        <label for="topic">Тема урока</label>
                        <div id="topicSelectContainer">
                            <select id="topicSelect" class="topic-select">
                                <option value="">Выберите предмет и класс для загрузки тем</option>
                            </select>
                            <p class="topics-hint">Выберите тему из списка или введите свою</p>
                            <div id="loadingTopics" class="loading-indicator">Загрузка тем...</div>
                            <div id="topicsError" class="error-message" style="display: none; color: #d9534f; margin: 5px 0;"></div>
                        </div>
                        <input type="text" id="topic" placeholder="Например: Умножение дробей">
                    </div>
                
                <div class="form-group">
                    <label for="knowledgeLevel">Уровень знаний</label>
                    <select id="knowledgeLevel">
                        <option value="">Выберите вариант</option>
                        <option value="начальный">Начальный</option>
                        <option value="базовый">Базовый</option>
                        <option value="средний">Средний</option>
                        <option value="выше среднего">Выше среднего</option>
                        <option value="продвинутый">Продвинутый</option>
                        <option value="углубленный">Углубленный</option>
                        <option value="олимпиадный">Олимпиадный</option>
                        <option value="разный (смешанная группа)">Разный (смешанная группа)</option>
                        <option value="Другое">Другое (указать)</option>
                    </select>
                    <div id="customKnowledgeLevelContainer" style="display: none;" class="form-group">
                        <input type="text" id="customKnowledgeLevel" placeholder="Укажите уровень знаний">
                    </div>
                </div>
            </div>
            
            <!-- Здесь идут остальные блоки формы (без изменений) -->
            <!-- Блок 2: Дополнительные параметры -->
            <div class="section">
                <h2>Дополнительные параметры</h2>
                
                <div class="form-group">
                    <label for="skillsCompetencies">Развиваемые навыки/компетенции</label>
                    <select id="skillsCompetencies" multiple>
                        <optgroup label="Мыслительные навыки">
                            <option value="критическое мышление">Критическое мышление</option>
                            <option value="аналитические навыки">Аналитические навыки</option>
                            <option value="логическое мышление">Логическое мышление</option>
                            <option value="креативное мышление">Креативное мышление</option>
                            <option value="навыки решения проблем">Навыки решения проблем</option>
                            <option value="пространственное мышление">Пространственное мышление</option>
                            <option value="системное мышление">Системное мышление</option>
                            <option value="алгоритмическое мышление">Алгоритмическое мышление</option>
                        </optgroup>
                        
                        <optgroup label="Коммуникативные навыки">
                            <option value="коммуникативные навыки">Коммуникативные навыки</option>
                            <option value="навыки презентации">Навыки презентации</option>
                            <option value="навыки аргументации">Навыки аргументации</option>
                            <option value="навыки ведения дискуссии">Навыки ведения дискуссии</option>
                            <option value="навыки публичных выступлений">Навыки публичных выступлений</option>
                        </optgroup>
                        
                        <optgroup label="Речевые навыки">
                            <option value="навыки письма">Навыки письма</option>
                            <option value="навыки чтения">Навыки чтения</option>
                            <option value="навыки говорения">Навыки говорения</option>
                            <option value="навыки аудирования">Навыки аудирования</option>
                        </optgroup>
                        
                        <optgroup label="Социальные навыки">
                            <option value="командная работа">Командная работа</option>
                            <option value="лидерские качества">Лидерские качества</option>
                            <option value="эмпатия">Эмпатия</option>
                            <option value="навыки сотрудничества">Навыки сотрудничества</option>
                            <option value="конфликтологическая компетентность">Конфликтологическая компетентность</option>
                        </optgroup>
                        
                        <optgroup label="Цифровые компетенции">
                            <option value="цифровая грамотность">Цифровая грамотность</option>
                            <option value="информационная грамотность">Информационная грамотность</option>
                            <option value="медиаграмотность">Медиаграмотность</option>
                            <option value="навыки программирования">Навыки программирования</option>
                        </optgroup>
                        
                        <optgroup label="Функциональная грамотность">
                            <option value="функциональная грамотность">Функциональная грамотность</option>
                            <option value="математическая грамотность">Математическая грамотность</option>
                            <option value="естественно-научная грамотность">Естественно-научная грамотность</option>
                            <option value="финансовая грамотность">Финансовая грамотность</option>
                            <option value="читательская грамотность">Читательская грамотность</option>
                            <option value="глобальные компетенции">Глобальные компетенции</option>
                        </optgroup>
                        
                        <optgroup label="Личностные качества">
                            <option value="самостоятельность">Самостоятельность</option>
                            <option value="дисциплина">Дисциплина</option>
                            <option value="тайм-менеджмент">Тайм-менеджмент</option>
                            <option value="саморегуляция">Саморегуляция</option>
                            <option value="настойчивость">Настойчивость</option>
                            <option value="ответственность">Ответственность</option>
                        </optgroup>
                        
                        <optgroup label="Когнитивные навыки">
                            <option value="память и внимание">Память и внимание</option>
                            <option value="концентрация">Концентрация</option>
                            <option value="наблюдательность">Наблюдательность</option>
                            <option value="скорость обработки информации">Скорость обработки информации</option>
                        </optgroup>
                    </select>
                    <p class="hint">Удерживайте Ctrl (Cmd на Mac) для выбора нескольких навыков</p>
                    <input type="text" id="customSkillsCompetencies" placeholder="Дополнительные навыки (через запятую)" class="form-group">
                </div>
                
                <div class="form-group">
                    <label for="teachingApproach">Подход к обучению</label>
                    <select id="teachingApproach">
                        <option value="">Выберите вариант</option>
                        <optgroup label="Активные методики">
                            <option value="проблемное обучение">Проблемное обучение</option>
                            <option value="проектный метод">Проектный метод</option>
                            <option value="кейс-метод">Кейс-метод</option>
                            <option value="интерактивное обучение">Интерактивное обучение</option>
                            <option value="игровые методики">Игровые методики</option>
                            <option value="перевернутый класс">Перевернутый класс</option>
                            <option value="сторителлинг">Сторителлинг</option>
                            <option value="геймификация">Геймификация</option>
                            <option value="дискуссионное обучение">Дискуссионное обучение</option>
                        </optgroup>
                        
                        <optgroup label="Индивидуальные подходы">
                            <option value="личностно-ориентированный подход">Личностно-ориентированный подход</option>
                            <option value="дифференцированное обучение">Дифференцированное обучение</option>
                            <option value="адаптивное обучение">Адаптивное обучение</option>
                            <option value="тьюторство">Тьюторство</option>
                        </optgroup>
                        
                        <optgroup label="Практические подходы">
                            <option value="практико-ориентированный подход">Практико-ориентированный подход</option>
                            <option value="деятельностный подход">Деятельностный подход</option>
                            <option value="компетентностный подход">Компетентностный подход</option>
                            <option value="STEM/STEAM-подход">STEM/STEAM-подход</option>
                        </optgroup>
                        
                        <optgroup label="Когнитивные подходы">
                            <option value="визуализация материала">Визуализация материала</option>
                            <option value="исследовательское обучение">Исследовательское обучение</option>
                            <option value="междисциплинарный подход">Междисциплинарный подход</option>
                            <option value="метапредметный подход">Метапредметный подход</option>
                        </optgroup>
                        
                        <optgroup label="Нетрадиционные методики">
                            <option value="вальдорфская педагогика">Вальдорфская педагогика</option>
                            <option value="монтессори-педагогика">Монтессори-педагогика</option>
                            <option value="методика погружения">Методика погружения</option>
                            <option value="кооперативное обучение">Кооперативное обучение</option>
                        </optgroup>
                        
                        <option value="Другое">Другое (указать)</option>
                    </select>
                    <div id="customTeachingApproachContainer" style="display: none;" class="form-group">
                        <input type="text" id="customTeachingApproach" placeholder="Укажите подход к обучению">
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="audienceFeatures">Особенности аудитории</label>
                    <select id="audienceFeatures" multiple>
                        <optgroup label="Типы восприятия">
                            <option value="визуальный тип восприятия">Визуальный тип восприятия</option>
                            <option value="аудиальный тип восприятия">Аудиальный тип восприятия</option>
                            <option value="кинестетический тип восприятия">Кинестетический тип восприятия</option>
                        </optgroup>
                        
                        <optgroup label="Мотивация">
                            <option value="высокая мотивация">Высокая мотивация</option>
                            <option value="средняя мотивация">Средняя мотивация</option>
                            <option value="низкая мотивация">Низкая мотивация</option>
                            <option value="внешняя мотивация">Внешняя мотивация</option>
                            <option value="внутренняя мотивация">Внутренняя мотивация</option>
                        </optgroup>
                        
                        <optgroup label="Уровень подготовки">
                            <option value="одинаковый уровень подготовки">Одинаковый уровень подготовки</option>
                            <option value="разный уровень подготовки">Разный уровень подготовки</option>
                            <option value="сильные учащиеся">Сильные учащиеся</option>
                            <option value="средние учащиеся">Средние учащиеся</option>
                            <option value="слабые учащиеся">Слабые учащиеся</option>
                        </optgroup>
                        
                        <optgroup label="Когнитивные особенности">
                            <option value="трудности с концентрацией внимания">Трудности с концентрацией внимания</option>
                            <option value="быстрая утомляемость">Быстрая утомляемость</option>
                            <option value="высокая активность">Высокая активность</option>
                            <option value="медленный темп усвоения материала">Медленный темп усвоения материала</option>
                            <option value="быстрый темп усвоения материала">Быстрый темп усвоения материала</option>
                            <option value="трудности в абстрактном мышлении">Трудности в абстрактном мышлении</option>
                            <option value="визуальный стиль обучения">Визуальный стиль обучения</option>
                            <option value="аудиальный стиль обучения">Аудиальный стиль обучения</option>
                            <option value="кинестетический стиль обучения">Кинестетический стиль обучения</option>
                        </optgroup>
                        
                        <optgroup label="Психологические особенности">
                            <option value="интровертная аудитория">Интровертная аудитория</option>
                            <option value="экстравертная аудитория">Экстравертная аудитория</option>
                            <option value="тревожность">Тревожность</option>
                            <option value="низкая самооценка">Низкая самооценка</option>
                            <option value="перфекционизм">Перфекционизм</option>
                            <option value="соревновательная мотивация">Соревновательная мотивация</option>
                        </optgroup>
                        
                        <optgroup label="Особые образовательные потребности">
                            <option value="ученики с особыми образовательными потребностями">Ученики с особыми образовательными потребностями</option>
                            <option value="одаренные дети">Одаренные дети</option>
                            <option value="билингвальные учащиеся">Билингвальные учащиеся</option>
                            <option value="языковой барьер">Языковой барьер</option>
                            <option value="трудности в чтении">Трудности в чтении</option>
                            <option value="трудности в письме">Трудности в письме</option>
                        </optgroup>
                        
                        <optgroup label="Другие особенности">
                            <option value="техническая подготовленность (для онлайн)">Техническая подготовленность (для онлайн)</option>
                            <option value="отсутствие опыта работы в группе">Отсутствие опыта работы в группе</option>
                            <option value="конкурентная среда">Конкурентная среда</option>
                            <option value="дружественная атмосфера">Дружественная атмосфера</option>
                            <option value="разные возрастные группы">Разные возрастные группы</option>
                            <option value="культурное разнообразие">Культурное разнообразие</option>
                        </optgroup>
                    </select>
                    <p class="hint">Удерживайте Ctrl (Cmd на Mac) для выбора нескольких особенностей</p>
                    <input type="text" id="customAudienceFeatures" placeholder="Дополнительные особенности (через запятую)" class="form-group">
                </div>
                
                <div class="form-group">
                    <label for="lessonFormat">Формат урока</label>
                    <select id="lessonFormat">
                        <option value="оффлайн">Оффлайн</option>
                        <option value="онлайн">Онлайн</option>
                        <option value="смешанный формат">Смешанный формат</option>
                    </select>
                </div>
            </div>
            
            <!-- Блок 3: Структура урока -->
            <div class="section full-width">
                <h2>Структура урока</h2>
                
                <div class="checkbox-group">
                    <input type="checkbox" id="useCustomSections">
                    <label for="useCustomSections">Использовать свою структуру урока</label>
                </div>
                
                <div id="standardStructure">
                    <div class="two-columns">
                        <div class="form-group">
                            <label for="totalLessonDuration">Общая длительность урока (мин)</label>
                            <select id="totalLessonDuration">
                                <option value="30">30</option>
                                <option value="40">40</option>
                                <option value="45" selected>45</option>
                                <option value="60">60</option>
                                <option value="75">75</option>
                                <option value="90">90</option>
                                <option value="120">120</option>
                                <option value="180">180</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="introActivityDuration">Длительность вводной активности (мин)</label>
                            <select id="introActivityDuration">
                                <option value="5-10" selected>5-10</option>
                                <option value="10-15">10-15</option>
                                <option value="15-20">15-20</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="mainPartDuration">Длительность основной части (мин)</label>
                            <select id="mainPartDuration">
                                <option value="20-25" selected>20-25</option>
                                <option value="25-30">25-30</option>
                                <option value="30-35">30-35</option>
                                <option value="35-40">35-40</option>
                                <option value="40-45">40-45</option>
                                <option value="45-60">45-60</option>
                                <option value="60-75">60-75</option>
                                <option value="75-90">75-90</option>
                                <option value="90-120">90-120</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="structure-preview">
                        <p>Стандартная структура урока (общая длительность: <span id="durationDisplay">45</span> минут):</p>
                        <ol>
                            <li>Четкие цели обучения</li>
                            <li>Вводная активность (<span id="introDisplay">5-10</span> минут)</li>
                            <li>Основная часть с объяснением материала (<span id="mainDisplay">20-25</span> минут)</li>
                            <li>Практические задания разного уровня сложности</li>
                            <li>Заключительная часть с подведением итогов</li>
                            <li>Домашнее задание</li>
                        </ol>
                    </div>
                </div>
                
                <div id="customStructure" style="display: none;">
                    <div class="form-group">
                        <label for="customSections">Ваша структура урока</label>
                        <textarea id="customSections" rows="6" placeholder="Опишите структуру урока с нумерацией пунктов"></textarea>
                    </div>
                </div>
            </div>
        </div>
        </form>
        
        <!-- Результат: Готовый промпт -->
        <div class="result">
            <h2>Готовый промпт:</h2>
            <div id="generatedPrompt" class="prompt-output">Заполните форму, чтобы сгенерировать промпт</div>
            <button id="copyButton">Скопировать промпт</button>
        </div>
    </div>
    
    <div class="footer">
        <p>© 2025 Школа педагогического маркетинга | Курс "Нейросети для преподавателей и репетиторов"</p>
        <p><a href="https://promo.teachermentor.ru/neiro_teaher21" style="color: #365ddf; text-decoration: none;">promo.teachermentor.ru/neiro_teaher21</a></p>
    </div>

    <!-- Подключение скриптов -->
    <script src="prompt-builder-script.js"></script>
    <script src="topics-integration.js"></script>
    <script src="topic-handlers.js"></script>
    
    <!-- Скрипт для загрузки данных -->
    <script>
        // Функция для загрузки скриптов
        function loadScripts() {
            console.log('Загрузка скриптов...');
            
            // Проверяем наличие необходимых элементов
            try {
                checkRequiredElements();
                console.log('Все необходимые элементы найдены');
            } catch (error) {
                console.error('Ошибка при инициализации:', error.message);
                alert('Ошибка при инициализации: ' + error.message + '. Пожалуйста, обновите страницу.');
                return;
            }
            
            // Получаем ссылки на элементы формы
            const expertType = document.getElementById('expertType');
            const customExpertType = document.getElementById('customExpertType');
            const customExpertTypeContainer = document.getElementById('customExpertTypeContainer');
            const topic = document.getElementById('topic');
            const ageClass = document.getElementById('ageClass');
            const knowledgeLevel = document.getElementById('knowledgeLevel');
            const skillsCompetencies = document.getElementById('skillsCompetencies');
            const teachingApproach = document.getElementById('teachingApproach');
            const audienceFeatures = document.getElementById('audienceFeatures');
            const lessonFormat = document.getElementById('lessonFormat');
            const totalLessonDuration = document.getElementById('totalLessonDuration');
            const generatedPrompt = document.getElementById('generatedPrompt');
            const copyButton = document.getElementById('copyButton');
            
            // Логируем наличие элементов
            console.log('Элементы формы:', {
                expertType: !!expertType,
                customExpertType: !!customExpertType,
                topic: !!topic,
                ageClass: !!ageClass,
                knowledgeLevel: !!knowledgeLevel,
                skillsCompetencies: !!skillsCompetencies,
                teachingApproach: !!teachingApproach,
                audienceFeatures: !!audienceFeatures,
                lessonFormat: !!lessonFormat,
                totalLessonDuration: !!totalLessonDuration,
                generatedPrompt: !!generatedPrompt,
                copyButton: !!copyButton
            });
            
            // Добавляем обработчик для кнопки копирования
            if (copyButton) {
                copyButton.addEventListener('click', async () => {
                    const promptOutput = document.getElementById('generatedPrompt');
                    if (promptOutput) {
                        try {
                            await navigator.clipboard.writeText(promptOutput.textContent);
                            copyButton.textContent = 'Скопировано!';
                            setTimeout(() => {
                                copyButton.textContent = 'Копировать промпт';
                            }, 2000);
                        } catch (error) {
                            console.error('Ошибка при копировании:', error);
                            showError('Не удалось скопировать текст. Попробуйте выделить и скопировать вручную.');
                        }
                    }
                });
            }
        }

        // Запускаем загрузку скриптов при загрузке DOM
        document.addEventListener('DOMContentLoaded', loadScripts);
    </script>
</body>
</html>